'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};/**
 * Author: Trevor Hsu
 * Email: t-revor@foxmail.com
 */(function(a,b){if('undefined'!=typeof module)module.exports=b();else if('function'==typeof define&&'object'==_typeof(define.amd))define(b);else{var c=this||window;c[a]=b()}})('ScrollController',function(){function ScrollControllerClass(e,f){function g(a){var b=j.wrapperDom,f=j.innerDom,g=f.clientHeight-b.clientHeight;if(a=a||window.event,a.stopPropagation(),a.cancelBubble=!0,!(b.scrollTop<g&&0<b.scrollTop)){// vertical scroll on middle
var h=d(a);if(j.allowXScroll&&0===b.scrollTop&&0>h){// vertical scroll on the top
if(0!==b.scrollLeft){c(a);for(var k=0;20>k;k++)b.scrollLeft-=1}}else if(j.allowXScroll&&b.scrollTop===g&&0<h&&b.scrollLeft<f.clientWidth-b.clientWidth)// vertical scroll on the bottom
{c(a);for(var i=0;20>i;i++)b.scrollLeft+=1}}}var h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},j=this;j.wrapperDom=e,j.innerDom=f,j.destory=function(){var a={removeListeners:function c(){var a=j.wrapperDom;a&&(b(a,'mousewheel',g),b(a,'DOMMouseScroll',g))},clearObjs:function a(){j.wrapperDom=null,j.innerDom=null}};a.removeListeners(),a.clearObjs(),a=null},function(a){j.id='scrollController_'+Date.now(),j.setOptions(a)}(h),function(b){a(b,'mousewheel',g),a(b,'DOMMouseScroll',g)}(e)}// utils
function a(a,b,c){window.addEventListener?a.addEventListener(b,c):window.attachEvent&&a.attachEvent('on'+b,c)}function b(a,b,c){window.addEventListener?a.removeEventListener(b,c):window.attachEvent&&a.detachEvent('on'+b,c)}function c(a){a=a||window.event,a.preventDefault(),a.returnValue=!1}function d(a){a=a||window.event;var b=a.wheelDelta?-a.wheelDelta:a.detail;return 0<b?1:0>b?-1:0}//
return ScrollControllerClass.prototype={constructor:ScrollControllerClass,setOptions:function c(a){var b=a.allowXScroll;void 0===b?void 0===this.allowXScroll&&(this.allowXScroll=!0):this.allowXScroll=b}},function(a,b,c){var d='object'===('undefined'==typeof HTMLElement?'undefined':_typeof(HTMLElement))?function(a){return a instanceof HTMLElement}:function(a){return a&&'object'===('undefined'==typeof a?'undefined':_typeof(a))&&1===a.nodeType&&'string'==typeof a.nodeName};if(!d(a)||!d(b))throw new Error('[ScrollController]: parameters should be DOM Node');return new ScrollControllerClass(a,b,c)}});
